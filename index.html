<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>OnlyFans · dakota — Prank</title>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
  /* Windows95-like hacker aesthetic + retro */
  :root{
    --bg:#c0c0c0; 
    --win-bg:#e6e6e6;
    --title-bg:#000033;
    --title-color:#fff;
    --accent:#00e6a8;
    --danger:#ff4444;
    --text:#0b0b0b;
    --shadow:rgba(0,0,0,0.25);
  }
  html,body{height:100%;margin:0;background:linear-gradient(#7a7a7a,#a8a8a8);font-family:"VT323", monospace;color:var(--text);}
  .stage{max-width:720px;margin:18px auto;padding:12px;}
  .card{background:var(--bg);border:4px solid #808080;padding:14px;box-shadow:0 6px 0 rgba(0,0,0,0.3);border-radius:2px}
  h1{font-size:16px;margin:0 0 8px;color:#001a34}
  p.lead{margin:0 0 10px;font-size:12px;color:#222}

  .screen{background:var(--win-bg);border:2px solid #909090;padding:12px;min-height:160px;position:relative}
  .topRow{display:flex;justify-content:space-between;align-items:center}
  .label{font-size:10px;color:#333}
  .counter{font-size:48px;color:var(--danger);font-weight:700}
  .btn{
    display:inline-block;padding:10px 12px;border:2px solid #404040;background:#f0f0f0;color:#111;font-weight:700;border-bottom-width:6px;cursor:pointer;margin-top:12px;border-radius:3px;
  }
  .hint{font-size:12px;color:#222;margin-top:10px}

  .window {
    width:90%;max-width:520px;background:#dcdcdc;border:3px solid #808080;box-shadow:6px 8px var(--shadow);
    position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:60;
    font-family:"VT323", monospace;padding-bottom:10px;
  }
  .titlebar{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(#000033,#000020);color:var(--title-color);padding:6px 8px;font-size:13px}
  .titlebar .title{font-weight:700}
  .titlebar .x{background:#ff4444;color:#fff;padding:2px 6px;border:2px solid #800000;cursor:pointer;font-weight:700}
  .win-body{padding:12px;background:#f3f3f3;color:#111;border-top:2px solid #bdbdbd}
  .win-body p{margin:6px 0;font-size:13px}
  .win-count{font-size:42px;color:var(--accent);font-weight:700}
  .win-btn{display:inline-block;padding:8px 10px;border:3px solid #404040;background:#e6e6e6;cursor:pointer;margin-top:10px}

  .mini-window{position:fixed;right:18px;bottom:18px;z-index:70;width:320px;border:3px solid #808080;background:#e9e9e9;box-shadow:6px 8px var(--shadow)}
  .hidden{display:none}

  .finalScreen{display:none;padding:20px;text-align:center}
  .finalScreen h2{font-size:20px;color:#002b54;margin:0}

  .videoOverlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);z-index:100}
  .videoBox{width:90%;max-width:900px;height:56.25vw;max-height:560px;background:#000;border:6px solid #808080;border-radius:4px}

  @media (max-width:480px){
    .counter{font-size:36px}
    .win-count{font-size:34px}
    .window{width:94%}
    .mini-window{width:260px}
  }
</style>
</head>

<body>
  <div class="stage">
    <div class="card">
      <h1>onlyfans.com/dakota</h1>
      <p class="lead">Lección 1: No abrir enlaces desconocidos, curiosit@</p>

      <div class="screen" role="region" aria-live="polite">
        <div class="topRow">
          <div>
            <div class="label">ESTADO</div>
            <div id="status" class="hint">Iniciando sistema...</div>
          </div>
          <div style="text-align:right">
            <div class="label">CUENTA</div>
            <div id="mainCounter" class="counter">3</div>
          </div>
        </div>

        <div style="margin-top:12px">
          <button id="cancelBtn" class="btn">⚠️ Cancélar DESCARGA</button>
        </div>

        <div class="hint" id="below">CANCELAAAAAAAA.</div>

        <div class="finalScreen" id="finalScreen">
          <h2 id="finalText">Hackeado :) Gracias por participar</h2>
          <div id="finalCounter" style="font-size:28px;margin-top:10px;color:var(--accent)"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ventana 1 -->
  <div id="win1" class="window hidden">
    <div class="titlebar">
      <div class="title" id="win1Title">Sistema</div>
      <div class="x" id="win1X">X</div>
    </div>
    <div class="win-body">
      <p id="win1Msg">Mensaje...</p>
      <p id="downloadNote"><span class="win-count">3</span></p>
      <button id="closeAndRemove" class="win-btn">Cerrar y eliminar virus</button>
    </div>
  </div>

  <!-- Mini ventana -->
  <div id="mini" class="mini-window hidden">
    <div style="background:#000033;color:#fff;padding:6px 8px;font-weight:700;display:flex;justify-content:space-between;align-items:center">
      <div>Confirmación</div>
      <div style="font-size:12px;font-weight:700;padding:2px 6px;background:#ff4444;border:2px solid #800000;color:#fff;cursor:pointer" id="miniX">X</div>
    </div>
    <div style="padding:10px">
      <div style="font-size:13px;margin-bottom:8px">¿Cerrar y eliminar? ¿Te vas tan pronto? No lo creo.</div>
      <div style="font-size:13px;margin-bottom:8px;color:#555">Robando datos confidenciales…</div>
      <div id="robCount" style="font-size:32px;color:var(--danger);font-weight:700">3</div>
      <button id="miniConfirm" class="win-btn">Aceptar</button>
    </div>
  </div>

  <!-- Video -->
  <div id="videoOverlay" class="videoOverlay">
    <div class="videoBox" id="videoBox"></div>
  </div>


<script>
  const PRANK_FILE = 'virus_por_curioso.jpg';
  const DOWNLOAD_NAME = 'virus_por_curiosito.jpg';

  const mainCounterEl = document.getElementById('mainCounter');
  const statusEl = document.getElementById('status');
  const cancelBtn = document.getElementById('cancelBtn');
  const win1 = document.getElementById('win1');
  const win1Title = document.getElementById('win1Title');
  const win1Msg = document.getElementById('win1Msg');
  const win1X = document.getElementById('win1X');
  const downloadNote = document.getElementById('downloadNote');
  const closeAndRemove = document.getElementById('closeAndRemove');
  const mini = document.getElementById('mini');
  const miniConfirm = document.getElementById('miniConfirm');
  const miniX = document.getElementById('miniX');
  const robCountEl = document.getElementById('robCount');
  const finalScreen = document.getElementById('finalScreen');
  const finalCounter = document.getElementById('finalCounter');
  const videoOverlay = document.getElementById('videoOverlay');
  const videoBox = document.getElementById('videoBox');

  let mainTime = 3;
  let interacted = false;

  const mainInterval = setInterval(()=>{
    mainCounterEl.textContent = mainTime;

    if(mainTime === 2) statusEl.textContent = 'Escaneando curiosidades...';
    if(mainTime === 1) statusEl.textContent = 'Analizando comportamiento...';

    if(mainTime <= 0){
      clearInterval(mainInterval);
      if(!interacted) openWin1(false);
    }
    mainTime--;
  },1000);

  function openWin1(userClicked){
    win1.classList.remove('hidden');
    if(userClicked){
      win1Msg.textContent = 'OPPSS — eso no se puede. Iniciando jaqueo...';
    } else {
      win1Msg.textContent = 'OPS — no cancelaste. Iniciando jaqueo...';
    }
    animateWinCountThenDownload();
  }

  function animateWinCountThenDownload(){
    let t = 3;
    const span = downloadNote.querySelector('.win-count');
    const it = setInterval(()=>{
      span.textContent = t;
      t--;
      if(t < 0){
        clearInterval(it);
        triggerDownload();
        downloadNote.innerHTML = '<p style="color:#666;margin-top:8px">Archivo descargado. Usa "Cerrar y eliminar virus".</p>';
      }
    },1000);
  }

  function triggerDownload(){
    const a = document.createElement('a');
    a.href = PRANK_FILE;
    a.download = DOWNLOAD_NAME;
    document.body.appendChild(a);
    a.click();
    a.remove();
  }

  cancelBtn.addEventListener('click', ()=>{
    interacted = true;
    if(!win1.classList.contains('hidden')) return;
    openWin1(true);
  });

  win1X.addEventListener('click', proceedToMini);
  closeAndRemove.addEventListener('click', proceedToMini);

  function proceedToMini(){
    win1.classList.add('hidden');
    mini.classList.remove('hidden');

    let r = 3;
    const it = setInterval(()=>{
      robCountEl.textContent = r;
      r--;
      if(r < 0){
        clearInterval(it);
        mini.classList.add('hidden');
        showFinalAndRedirect();
      }
    },1000);
  }

  miniConfirm.addEventListener('click', ()=>{
    mini.classList.add('hidden');
    showFinalAndRedirect();
  });

  miniX.addEventListener('click', ()=>{
    mini.classList.add('hidden');
    showFinalAndRedirect();
  });

  function showFinalAndRedirect(){
    finalScreen.style.display = 'block';

    let f = 3;
    finalCounter.textContent = f;

    const it = setInterval(()=>{
      f--;
      finalCounter.textContent = f;
      if(f < 0){
        clearInterval(it);
        playVideo('jNOJD2gNN_s');
      }
    },1000);
  }

  function playVideo(videoId){
    videoBox.innerHTML = '';
    const iframe = document.createElement('iframe');
    iframe.width = '100%';
    iframe.height = '100%';
    iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&rel=0`;
    iframe.allow = 'autoplay; encrypted-media; fullscreen';

    videoBox.appendChild(iframe);
    videoOverlay.style.display = 'flex';
  }

  /* FINAL FIX — La línea rota */
  window.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){
      if(!win1.classList.contains('hidden')){
        win1.classList.add('hidden');
        proceedToMini();
      }
    }
  });
</script>

</body>
</html>
